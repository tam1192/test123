# 自販機
基本的な処理は
1. 金を入れる
2. ボタンを押す
3. 押されたボタンの位置を元に商品を出す
を繰り返すと考えました。

# ハードウェアの定義
今回、ハードウェア（入出力部）を検討しました。

### ボタンコントローラー
入力
- ボタン(行)の信号線（複数）
- ボタン(列)の信号線（複数）

出力
- ボタンが正常に押されているか
- ボタン(行)の信号を数値化した情報
- ボタン(列)の信号を数値化した情報

ボタンが押されたとき、そのボタンの位置を行と列それぞれ信号線に流します。
信号線は行ごと、列ごとに分かれています。

行列それぞれの信号線は一つの信号線のみが有効化されている必要があります。
これによってボタンの位置を見極めるため。

そのため、ボタンコントローラでは複数の信号線が入力されていた場合、もしくは何も入力がなかった場合、無効を出力します。

### 金銭入力部
今回、専用のHWを使うと考え、次のように仮定します。
- コイン部、お札部はそれぞれ連結している。
- 入れられた金額のデータを出力する。
- 別の硬貨・紙幣が投入されたら、リセットしてその金額のデータを出力する

そのため、ソフトウェア側でスタックを用意し、
ボタンが押されたら投入されたお金すべての合計から判断します。

# ソフトウェア部
ハードウェアをもとに次ぎように考えます

## アップデート処理
ボタンのライトを光らせる処理をまとめました。
お金と物理ボタンの位置を記憶したテーブル情報をイテレートし、どれを光らせるか処理します。

処理としては
テーブルから一行取り出し、お金の情報と、入力された金額を超えているかを判断します
もしも超えていたら、その信号線のLEDライトを光らせます。

## メイン処理
この処理を繰り返します


